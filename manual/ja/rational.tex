\input{../header_class}

%---------- start document ---------- %
 \section{rational -- 整数と有理数}\linkedzero{rational}
rationalモジュールはクラスRational, クラスInteger, クラスRationalField, そして クラスIntegerRingとして整数と有理数を提供.

 \begin{itemize}
   \item {\bf Classes}
   \begin{itemize}
     \item \linkingone{rational}{Integer}
     \item \linkingone{rational}{IntegerRing}
     \item \linkingone{rational}{Rational}
     \item \linkingone{rational}{RationalField}
   \end{itemize}
 \end{itemize}

このモジュールはまた以下のコンテンツを提供する:
\begin{description}
   \item[theIntegerRing]\linkedone{rational}{theIntegerRing}:\\
     \param{theIntegerRing}は有理整数環を表す.
     \linkingone{rational}{IntegerRing}のインスタンス.
   \item[theRationalField]\linkedone{rational}{theRationalField}:\\
     \param{theRationalField}は有理数体を表す.
     \linkingone{rational}{RationalField}のインスタンス.
 \end{description}

\C

 \subsection{Integer -- 整数}\linkedone{rational}{Integer}
 Integerは整数のクラス. 'int' と 'long' は除算において有理数を返さないので, 新しいクラスを作成する必要があった.

 このクラスは\linkingone{ring}{CommutativeRingElement} と longのサブクラス.

  \initialize
  \func{Integer}{\hiki{integer}{integer}}{\out{Integer}}\\
  \spacing
  % document of basic document
  \quad Integerオブジェクトを構成.
  % added document
  もし引数が省略されたら, 値は 0 となる.
  \method
  \subsubsection{getRing -- ringオブジェクトを得る}\linkedtwo{rational}{Integer}{getRing}
   \func{getRing}{\param{self}}{\out{IntegerRing}}\\
   \spacing
   % document of basic document
   \quad IntegerRingオブジェクトを返す.
%
  \subsubsection{actAdditive -- 2進の加法鎖の加法}\linkedtwo{rational}{Integer}{actAdditive}
   \func{actAdditive}{\param{self},\ \hiki{other}{integer}}{\out{Integer}}\\
   \spacing
   % document of basic document
   \quad otherに加法的に作用,すなわち, n は\param{other}のn回の加算に拡大される. 結果としては以下と同じ:

   \verb|return sum([+other for _ in range(self)])|

   しかし, ここでは2進の加法鎖を使う.\\
   \spacing
%
  \subsubsection{actMultiplicative -- 2進の加法鎖の乗法}\linkedtwo{rational}{Integer}{actMultiplicative}
   \func{actMultiplicative}{\param{self},\ \hiki{other}{integer}}{\out{Integer}}\\
   \spacing
   % document of basic document
   \quad otherに乗法的に作用する,すなわち, n は\param{other}のn回の乗算に拡大される. 結果としては以下と同じ:

\verb|return reduce(lambda x,y: x*y, [+other for _ in range(self)])|

   しかし, ここでは2進の加法鎖を使う.
   \spacing
\C
 \subsection{IntegerRing -- 整数環}\linkedone{rational}{IntegerRing}
 有理整数環に対するクラス.

 このクラスは\linkingone{ring}{CommutativeRing}のサブクラス.


  \initialize
  \func{IntegerRing}{}{\out{IntegerRing}}\\
  \spacing
  % document of basic document
  \quad IntegerRingのインスタンスを作成. 
  % added document
  すでにtheIntegerRingがあるので,インスタンスを作成する必要がないかもしれない.\\
  \begin{at}
    \item[zero]\linkedtwo{integer}{IntegerRing}{zero}:\\ 加法の単位元 0 を表す. (読み込み専用)
    \item[one]\linkedtwo{integer}{IntegerRing}{one}:\\ 乗法の単位元 1 を表す. (読みこみ専用)
  \end{at}
  \begin{op}
    \verb|x in Z| & 元が含まれているどうか返す.\\
    \verb|repr(Z)| & repr文字列を返す.\\
    \verb|str(Z)| & str文字列を返す.\\
  \end{op}
  \method
  \subsubsection{createElement -- Integerオブジェクトを作成}\linkedtwo{rational}{IntegerRing}{createElement}
   \func{createElement}{\param{self},\ \hiki{seed}{integer}}{\out{Integer}}\\
   \spacing
   % document of basic document
   \quad \param{seed}に対するIntegerオブジェクトを作成. 
   \spacing
   % input, output document
   \quad \param{seed}はint型, long型 または rational.Integerでなければならない.\\
%
  \subsubsection{gcd -- 最大公約数}\linkedtwo{rational}{IntegerRing}{gcd}
   \func{gcd}{\param{self},\ \hiki{n}{integer},\ \hiki{m}{integer}}{\out{Integer}}\\
   \spacing
   % document of basic document
   \quad 与えられた二つの整数の最大公約数を返す.\\
%
  \subsubsection{extgcd -- 拡張GCD}\linkedtwo{rational}{IntegerRing}{extgcd}
   \func{extgcd}{\param{self},\ \hiki{n}{integer},\ \hiki{m}{integer}}{\out{Integer}}\\
   \spacing
   % document of basic document
   \quad タプル($u$, $v$, $d$)を返す; これらは与えられた二つの整数\param{n} と \param{m}の最大公約数 $d$ と, $d = \mathtt{n}u + \mathtt{m}v$となる$u$, $v$.\\
   \spacing
%
  \subsubsection{lcm -- 最小公倍数}\linkedtwo{rational}{IntegerRing}{lcm}
   \func{lcm}{\param{self},\ \hiki{n}{integer},\ \hiki{m}{integer}}{\out{Integer}}\\
   \spacing
   % document of basic document
   \quad 与えられた二つの整数の最小公倍数を返す. 
   % added document
   \quad もし両方とも 0 なら, エラーが起こる.\\
%
  \subsubsection{getQuotientField -- 有理数体オブジェクトを得る}\linkedtwo{rational}{IntegerRing}{getQuotientField}
   \func{getQuotientField}{\param{self}}{\out{RationalField}}\\
   \spacing
   % document of basic document
   \quad 有理数体(\linkingone{rational}{RationalField})を返す.\\
%
  \subsubsection{issubring -- 部分環かどうか判定}\linkedtwo{rational}{IntegerRing}{issubring}
   \func{issubring}{\param{self},\ \hiki{other}{\linkingone{ring}{Ring}}}{\out{bool}}\\
   \spacing
   % document of basic document
   \quad もう一方の環が部分環として整数環を含んでいるか報告.

   もしotherも整数環なら,出力はTrue. その他の場合もう一方の整数環のissuperringメソッドのおける実装に依存.\\
   \spacing
%
  \subsubsection{issuperring -- 含んでいるかどうか判定}\linkedtwo{rational}{IntegerRing}{issuperring}
   \func{issuperring}{\param{self},\ \hiki{other}{\linkingone{ring}{Ring}}}{\out{bool}}\\
   \spacing
   % document of basic document
   \quad 整数環がもう一方の環を部分間として含んでいるか報告.

もしotherも整数環なら,出力はTrue. その他の場合もう一方の整数環のissubringメソッドのおける実装に依存.\\
   \spacing

\C
 \subsection{Rational -- 有理数}\linkedone{rational}{Rational}
 有理数のクラス.

  \initialize
  \func{Rational}
       {\hiki{numerator}{numbers},\ 
         \hikiopt{denominator}{numbers}{1}}
       {\out{Integer}}\\
  \spacing
  % document of basic document
  \quad 有理数は以下から構成:
  \begin{itemize}
  \item 整数,
  \item float
  \item Rational.
  \end{itemize}
  % added document
  もしtoRationalメソッドがあれば,他のオブジェクトを変換することができる. さもなくば TypeErrorが起こる.

  \method
  \subsubsection{getRing -- ringオブジェクトを得る}\linkedtwo{rational}{Rational}{getRing}
   \func{getRing}{\param{self}}{\out{RationalField}}\\
   \spacing
   % document of basic document
   \quad RationalFieldオブジェクトを返す.

  \subsubsection{decimalString -- 小数を表す}\linkedtwo{rational}{Rational}{decimalString}
   \func{decimalString}{\param{self},\ \hiki{N}{integer}}{\out{string}}\\
   \spacing
   % document of basic document
   \quad 小数第\param{N}桁とした文字列を返す.
   \spacing

  \subsubsection{expand -- 連分数による表現}\linkedtwo{rational}{Rational}{expand}
   \func{expand}
        {\param{self},\ 
          \hiki{base}{integer},\ 
          \hiki{limit}{integer}}
        {\out{string}}\\
   \spacing
   % document of basic document
   \quad もし\param{base}が自然数なら,分母が\param{base}の高々\param{limit}乗である最も近い有理数を返す.

   さもなくば(すなわち, \param{base}=0),分母が高々\param{limit}である最も近い有理数を返す.
   \spacing
   % input, output document
   \quad \param{base}は負の整数であってはならない.\\

\C
 \subsection{RationalField -- 有理数体}\linkedone{rational}{RationalField}
RationalFieldは有理数体のクラス. このクラスは\linkingone{rational}{theRationalField}という唯一のインスタンスを持つ.

 このクラスは\linkingone{ring}{QuotientField}のサブクラス.
%  
  \initialize
  \func{RationalField}{}{\out{RationalField}}\\
  \spacing
  % document of basic document
  \quad RationalFieldのインスタンスを作成. 
  % added document
  すでにtheRationalFieldがあるので,インスタンスを作成する必要はないかもしれない.
  \begin{at}
    \item[zero]\linkedtwo{integer}{RationalField}{zero}:\\ 加法の単位元 0 を表す, すなわち Rational(0, 1). (読み込み専用)
    \item[one]\linkedtwo{integer}{RationalField}{one}:\\ 乗法の単位元 1 を表す, すなわち Rational(1, 1). (読み込み専用)
  \end{at}
  \begin{op}
    \verb|x in Q| & 元が含まれているかどうか返す.\\
    \verb|str(Q)| & str文字列を返す.\\
  \end{op}
  \method
  \subsubsection{createElement -- Rationalオブジェクトを返す}\linkedtwo{rational}{RationalField}{createElement}
   \func{createElement}
        {\param{self},\ 
          \hiki{numerator}{integer or \linkingone{rational}{Rational}},\ 
          \hikiopt{denominator}{integer}{1} 
        }{\out{Rational}}\\
   \spacing
   % document of basic document
   \quad Rationalオブジェクトを作成.

  \subsubsection{classNumber -- 類数を得る}\linkedtwo{rational}{RationalField}{classNumber}
   \func{classNumber}{\param{self}}{\out{integer}}\\
   \spacing
   % document of basic document
   \quad 有理数体の類数は 1 なので, 1 を返す.

  \subsubsection{getQuotientField -- 有理数体オブジェクトを返す}\linkedtwo{rational}{RationalField}{getQuotientField}
   \func{getQuotientField}{\param{self}}{\out{RationalField}}\\
   \spacing
   % document of basic document
   \quad 有理数体インスタンスを返す.

  \subsubsection{issubring -- 部分環かどうか判定}\linkedtwo{rational}{RationalField}{issubring}
   \func{issubring}{\param{self},\ \hiki{other}{\linkingone{ring}{Ring}}}{\out{bool}}\\
   \spacing
   % document of basic document
   \quad もう一方の環が部分環として有理数体を含んでいるか報告.

   もしotherもまた有理数体なら, 出力はTrue. 他の場合もう一方のissuperringメソッドにおける実装に依存.
   \spacing

  \subsubsection{issuperring -- 含んでいるかどうか判定}\linkedtwo{rational}{RationalField}{issuperring}
   \func{issuperring}{\param{self},\ \hiki{other}{\linkingone{ring}{Ring}}}{\out{bool}}\\
   \spacing
   % document of basic document
   \quad 有理数体がもう一方の環を部分環としてを含んでいるか報告.

もしotherもまた有理数体なら, 出力はTrue. 他の場合もう一方のissubringメソッドにおける実装に依存.
   \spacing
\C

% ---------- end document ---------- %

\input{../footer}
